<link rel="import" href="../polymer/polymer.html"> <link rel="import" href="../iron-iconset-svg/iron-iconset-svg.html"> <link rel="import" href="../iron-icon/iron-icon.html" async> <iron-iconset-svg name="simple-modal" size="24"> <svg> <defs> <g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></g> </defs> </svg> </iron-iconset-svg> <dom-module id="simple-modal"> <template> <style>*,::after,::before,:host{box-sizing:border-box}:host{position:fixed;display:-webkit-box;display:-ms-flexbox;display:flex;top:0;right:0;left:0;bottom:0;overflow:scroll;padding:1rem;z-index:2147483647;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}:host([hidden]){display:none}.overlay{position:absolute;top:0;right:0;bottom:0;left:0;cursor:pointer;background:var(--simple-modal-overlay,rgba(0,0,0,.2))}:host(:not([visible])) .overlay{opacity:0;-webkit-transition:opacity .2s ease;transition:opacity .2s ease;-webkit-transition-delay:.1s;transition-delay:.1s}:host([visible]) .overlay{opacity:1;-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.modal{display:inline-block;position:relative;background:#fff;margin:auto;overflow:hidden;z-index:1;box-shadow:0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12),0 3px 5px -1px rgba(0,0,0,.4);@apply(--simple-modal)}:host(:not([visible])) .modal{opacity:0;-webkit-transform:translateZ(0) scale(.8,.95);transform:translateZ(0) scale(.8,.95);-webkit-transition:opacity 120ms ease,-webkit-transform 175ms cubic-bezier(.4,0,1,1);transition:opacity 120ms ease,-webkit-transform 175ms cubic-bezier(.4,0,1,1);transition:transform 175ms cubic-bezier(.4,0,1,1),opacity 120ms ease;transition:transform 175ms cubic-bezier(.4,0,1,1),opacity 120ms ease,-webkit-transform 175ms cubic-bezier(.4,0,1,1)}:host([visible]) .modal{opacity:1;-webkit-transform:translateZ(0) scale(1);transform:translateZ(0) scale(1);-webkit-transition:opacity .1s ease,-webkit-transform 140ms cubic-bezier(0,0,.2,1);transition:opacity .1s ease,-webkit-transform 140ms cubic-bezier(0,0,.2,1);transition:transform 140ms cubic-bezier(0,0,.2,1),opacity .1s ease;transition:transform 140ms cubic-bezier(0,0,.2,1),opacity .1s ease,-webkit-transform 140ms cubic-bezier(0,0,.2,1);-webkit-transition-delay:150ms;transition-delay:150ms}.modal__title{text-align:center;line-height:1;@apply(--simple-modal-title)}.modal__content{padding:var(--simple-modal-padding,40px);overflow:auto}.modal__close{--iron-icon-width:var(--simple-modal-close-size, 14px);--iron-icon-height:var(--simple-modal-close-size, 14px);position:absolute;top:10px;right:13px;color:var(--simple-modal-close-color,rgba(40,40,40,.8));opacity:.5;cursor:pointer;@apply(--simple-modal-close)}.modal__close:hover{opacity:1}[hidden]{display:none!important}</style> <div id="overlay" class="overlay" on-tap="_close" on-transitionend="_hideAfterInactiveTransition"> </div> <div class="modal" id="modal"> <iron-icon class="modal__close" on-tap="_close" icon="simple-modal:close" hidden$="[[noExit]]"> </iron-icon> <h1 class="modal__title" hidden$="[[!title]]">[[title]]</h1> <div class="modal__content"> <content></content> </div> </div> </template> <script>!function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n)}return t(n,[{key:"beforeRegister",value:function(){this.is="simple-modal",this.properties={active:{type:Boolean,notify:!0,value:!1},visible:{type:Boolean,reflectToAttribute:!0,readonly:!0,value:!1},hidden:{type:Boolean,reflectToAttribute:!0,readonly:!0,value:!0},title:{type:String,value:""},noExit:Boolean},this.observers=["_toggleVisibility(active)","_closeOnEscape(active)","_lockBodyWhenActive(active)"]}},{key:"getModal",value:function(){return this.$.modal}},{key:"_toggleVisibility",value:function(e){var t=this;e?(this.hidden=!1,Polymer.RenderStatus.afterNextRender(this,function(){return t.visible=!0})):this.visible=!1}},{key:"_hideAfterInactiveTransition",value:function(e){this.active||(this.hidden=!0)}},{key:"_lockBodyWhenActive",value:function(e){document.body.style.overflow=e?"hidden":""}},{key:"_close",value:function(){this.noExit||(this.active=!1)}},{key:"_closeOnEscape",value:function(e){var t=this,n=function(e){27===e.keyCode&&t._close()};e?document.addEventListener("keydown",n):document.removeEventListener("keydown",n)}}]),n}();Polymer(n)}()</script> </dom-module> 